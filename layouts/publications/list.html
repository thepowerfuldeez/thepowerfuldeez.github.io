{{- define "main" -}}

<h1 class="mb-6">{{ .Title }}</h1>

{{- $entries := .Params.entries | default (slice) -}}
{{- $sorted := sort $entries "date" "desc" -}}

{{- if gt (len $sorted) 0 -}}
  <section class="pub-list">
    {{- range $sorted -}}
    <article class="pub-item">
      <h3 class="pub-title">
        <a href="{{ .url }}" target="_blank" rel="noopener">{{ .title }}</a>
      </h3>
      <div class="pub-meta">
        {{- with .type -}}
          <span class="pub-type">{{ . }}</span>
        {{- end -}}
        {{- with (time .date) -}}
          <time datetime="{{ .Format "2006-01-02" }}" class="pub-date">{{ .Format "Jan 2006" }}</time>
        {{- end -}}
      </div>
      {{- with .summary -}}
      <p class="pub-summary">{{ . }}</p>
      {{- end -}}
    </article>
    {{- end -}}
  </section>
{{- else -}}
  <p class="opacity-60">No publications yet. Check back soon.</p>
{{- end -}}

{{- end -}}
